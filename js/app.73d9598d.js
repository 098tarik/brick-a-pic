(function(e){function t(t){for(var n,o,s=t[0],c=t[1],l=t[2],h=0,f=[];h<s.length;h++)o=s[h],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);g&&g(t);while(f.length)f.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,s=1;s<a.length;s++){var c=a[s];0!==i[c]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},i={app:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var g=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"3afd":function(e,t,a){e.exports=a.p+"img/sample3.384a498b.png"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticClass:"full-height"},[a("v-app-bar",{attrs:{app:"",color:"indigo",dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.showDrawer=!e.showDrawer}}}),a("v-toolbar-title",[e._v("Brick a Pic")]),a("v-spacer"),a("v-btn",{attrs:{text:"",href:"/"}},[e._v("About")]),a("v-btn",{attrs:{text:"",href:"https://github.com/brick-a-pic/brick-a-pic",target:"_blank"}},[e._v("Source")])],1),a("v-content",{staticClass:"full-height"},[a("Preview",{attrs:{imageData:e.imageData}}),a("v-container",{staticClass:"full-height",attrs:{fluid:""}},[e.showDrawer?a("Settings",{on:{imageLoaded:e.passImage}}):e._e()],1)],1)],1)},r=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"background-wrapper",attrs:{id:"background"}},[a("div",{ref:"panzoom",staticClass:"draggable"},[e.imageData?a("svg",{staticClass:"preview-svg",attrs:{"shape-rendering":"crispEdges",viewBox:"-1 -1 "+(e.imageData.width+1)+" "+(e.imageData.height+1)}},[a("g",[e._l(e.imageData.data,(function(t,n){return a("g",{key:n},[e._l(t,(function(t){return a("rect",{key:t.x,staticClass:"pixel",attrs:{width:t.width,height:"1",x:t.x,y:n,fill:e.getColor(t.color)}})})),a("text",{staticClass:"small",attrs:{x:-.2,y:n+.5,"text-anchor":"end","dominant-baseline":"central"}},[e._v(" "+e._s(n+1)+" ")])],2)})),e._l(e.imageData.width,(function(t){return a("text",{key:"row"+t,staticClass:"small",attrs:{x:t-.5,y:-.2,"text-anchor":"middle"}},[e._v(" "+e._s(t)+" ")])}))],2),a("defs",[a("pattern",{attrs:{id:"smallGrid",width:"1",height:"1",patternUnits:"userSpaceOnUse"}},[a("path",{attrs:{d:"M 1 0 L 0 0 0 1",fill:"none",stroke:"black","stroke-width":"0.2"}})]),a("pattern",{attrs:{id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse"}},[a("rect",{attrs:{width:"10",height:"10",fill:"url(#smallGrid)"}}),a("path",{attrs:{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"black","stroke-width":"0.4"}})])]),a("rect",{attrs:{width:"100%",height:"100%",fill:"url(#grid)"}})]):e._e()])])},s=[],c=(a("99af"),a("3835")),l=a("7d05"),g=a.n(l),h={name:"Preview",props:["imageData"],components:{},data:function(){return{panzoomInstance:null}},methods:{getColor:function(e){var t=Object(c["a"])(e,4),a=t[0],n=t[1],i=t[2],r=t[3];return"rgba(".concat(a,", ").concat(n,", ").concat(i,", ").concat((r||256)/256,")")}},mounted:function(){this.panzoomInstance=g()(this.$refs.panzoom,{bounds:!0})},beforeDestroy:function(){this.panzoomInstance&&this.panzoomInstance.dispose()}},f=h,u=(a("773a"),a("2877")),d=Object(u["a"])(f,o,s,!1,null,null,null),m=d.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticStyle:{overflow:"auto"},attrs:{"max-width":"30em","max-height":"100%"}},[a("v-card-title",[e._v("Options")]),a("v-card-text",[a("OpenImage",{attrs:{imageCheck:e.imageCheck},on:{change:e.onImageOpen,delete:e.ImageDelete}}),a("ImageProcessor",{attrs:{"image-width":e.imageWidth,"image-height":e.imageHeight,"image-url":e.imageUrl},on:{imageSampled:e.onImageSampled}}),a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",[a("v-slider",{attrs:{max:100,min:1,value:e.imageWidth},on:{change:e.onWidthChange,input:e.onWidthChange},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-text-field",{staticStyle:{width:"90px"},attrs:{label:"Width",id:"widthSetting",type:"number",value:e.imageWidth,rules:[e.rules.positive],suffix:"blocks",min:"1",max:"100"},on:{change:e.onWidthChange}})]},proxy:!0}])}),a("v-slider",{attrs:{max:100,min:1,value:e.imageHeight},on:{change:e.onHeightChange,input:e.onHeightChange},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-text-field",{staticStyle:{width:"90px"},attrs:{label:"Height",id:"heightSetting",value:e.imageHeight,rules:[e.rules.positive],suffix:"blocks",type:"number",min:"1",max:"100"},on:{change:e.onHeightChange}})]},proxy:!0}])}),a("v-switch",{attrs:{label:"Preserve aspect ratio"},model:{value:e.preserveRatio,callback:function(t){e.preserveRatio=t},expression:"preserveRatio"}})],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col")],1)],1)],1)],1)},v=[],A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-file-input",{ref:"chosenFile",attrs:{label:"Open image",id:"imageInput",accept:"image/*","prepend-icon":"mdi-image",clearable:!1,rules:e.rules},on:{change:e.onChange}}),a("div",{staticClass:"subtitle-1"},[e._v("Choose a sample")]),a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{align:"center"}},e._l(e.sampleImages,(function(t,n){return a("v-col",{key:n,attrs:{cols:"4"}},[a("v-card",{attrs:{flat:"",tile:"",link:""},on:{click:function(a){return e.$emit("change",t)}}},[a("v-img",{attrs:{src:t}})],1)],1)})),1)],1)],1)},w=[],b=(a("d3b7"),a("3ca3"),a("2ca0"),a("ddb0"),a("2b3d"),a("7ca7")),D=a("f48b"),C=a("3afd"),R={name:"OpenImage",props:["ImageCheck"],watch:{ImageCheck:function(){var e=URL.createObjectURL(this.fileUpload);this.$emit("change",e)}},data:function(){return{chosenFile:null,data:null,rules:[function(e){return!e||e.type.startsWith("image/")||"Please select a valid image"}],sampleImages:[b,D,C],fileUpload:null}},methods:{onChange:function(e){if(e){var t=URL.createObjectURL(e);this.fileUpload=e,this.$emit("change",t)}}}},I=R,k=a("6544"),M=a.n(k),x=a("b0af"),P=a("62ad"),H=a("a523"),y=a("23a7"),E=a("adda"),O=a("0fd9"),j=Object(u["a"])(I,A,w,!1,null,null,null),L=j.exports;M()(j,{VCard:x["a"],VCol:P["a"],VContainer:H["a"],VFileInput:y["a"],VImg:E["a"],VRow:O["a"]});var S=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},W=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"offscreen"},[a("canvas",{attrs:{id:"processing-canvas"}})])}],U=(a("d81d"),a("5530")),F=[[242,243,242],[161,165,162],[249,233,153],[215,197,153],[194,218,184],[232,186,199],[203,132,66],[204,142,104],[196,40,27],[196,112,160],[13,105,171],[245,205,47],[98,71,50],[27,42,52],[109,110,108],[40,127,70],[161,196,139],[243,207,155],[75,151,74],[160,95,52],[193,202,222],[180,210,227],[238,196,182],[218,134,121],[110,153,201],[199,193,183],[107,50,123],[226,155,63],[218,133,64],[0,143,155],[104,92,67],[67,84,147],[104,116,172],[199,210,60],[85,165,175],[183,215,213],[164,189,70],[217,228,167],[231,172,88],[211,111,76],[146,57,120],[234,184,145],[220,188,129],[174,122,89],[156,163,168],[116,134,156],[135,124,144],[224,152,100],[149,138,115],[32,58,86],[39,70,44],[121,136,161],[149,142,163],[147,135,103],[87,88,87],[22,29,50],[171,173,172],[120,144,129],[149,121,118],[123,46,47],[117,108,98],[215,169,75],[130,138,93],[249,214,46],[232,171,45],[105,64,39],[207,96,36],[163,162,164],[70,103,164],[35,71,139],[142,66,133],[99,95,97],[229,228,222],[176,142,68],[112,149,120],[121,181,181],[159,195,233],[108,129,183],[143,76,42],[124,92,69],[150,112,159],[107,98,155],[167,169,206],[205,98,152],[228,173,200],[220,144,149],[240,213,160],[235,184,127],[253,234,140],[125,187,221],[52,43,117],[236,236,236],[205,84,75],[193,223,240],[123,182,232],[247,241,141],[217,133,108],[132,182,141],[248,241,132],[236,232,222],[191,183,177],[228,173,200],[165,165,203],[213,115,61],[216,221,86],[207,226,247],[255,246,123],[225,164,194],[151,105,91],[180,132,85],[137,135,136]],B=function(e){for(var t=1/0,a=0,n=e[0],i=e[1],r=e[2],o=0;o<F.length;o+=1){var s=F[o][0],c=F[o][1],l=F[o][2],g=Math.pow(s-n,2)+Math.pow(c-i,2)+Math.pow(l-r,2);g<t&&(t=g,a=o)}return F[a]},N=function(e){return e.map((function(e){return e.map((function(e){return Object(U["a"])({},e,{color:B(e.color)})}))}))},V=(a("fb6a"),a("d4ec"));function z(e,t){var a=[],n=0;while(n<e.length)a.push(e.slice(n,t+n)),n+=t;return a}var T=function e(t){var a=t.height,n=t.width,i=t.data;Object(V["a"])(this,e),this.height=a,this.width=n;var r=z(z(i,4),n);this.data=r.map((function(e){return e.map((function(e,t){return{color:e,x:t,width:1}}))}))},Q={name:"ImageProcessor",props:["imageUrl","imageWidth","imageHeight"],methods:{sampleImage:function(){if(""!==this.imageUrl){var e=document.getElementById("processing-canvas").getContext("2d");e.clearRect(0,0,e.canvas.width,e.canvas.height);var t=new Image,a=this;t.onload=function(){var n=a.imageWidth,i=a.imageHeight;e.drawImage(t,0,0,n,i);var r=e.getImageData(0,0,n,i),o=new T(r);o.data=N(o.data),a.$emit("imageSampled",o)},t.src=this.imageUrl}}},watch:{imageUrl:function(){this.sampleImage()},imageWidth:function(){this.sampleImage()},imageHeight:function(){this.sampleImage()}}},G=Q,X=(a("79ff"),Object(u["a"])(G,S,W,!1,null,null,null)),_=X.exports,J={name:"Settings",components:{OpenImage:L,ImageProcessor:_},data:function(){return{imageCheck:0,imageDelete:0,imageUrl:"",imageHeight:32,imageWidth:32,imageRatio:1,minEdgeLength:32,minWidth:1,maxWidth:100,minHeight:1,maxHeight:100,preserveRatio:!0,rules:{positive:function(e){return e>0||"Must be positive"}}}},methods:{onImageOpen:function(e){var t=this,a=new Image;a.onload=function(){var n=a.width/a.height;a.height>a.width?(t.imageWidth=t.minEdgeLength,t.imageHeight=Math.floor(t.minEdgeLength/n)):a.height<a.width?(t.imageHeight=t.minEdgeLength,t.imageWidth=Math.floor(t.minEdgeLength*n)):(t.imageWidth=t.minEdgeLength,t.imageHeight=t.minEdgeLength),t.imageRatio=n,t.imageUrl=e},a.src=e},onImageSampled:function(e){this.imageData=e,this.$emit("imageLoaded",e)},ImageDelete:function(){},onHeightChange:function(e){e<1||(this.preserveRatio?this.imageWidth=Math.round(e*this.imageRatio):this.imageRatio=this.imageWidth/e,this.imageHeight=e)},onWidthChange:function(e){e<1||(this.preserveRatio?this.imageHeight=Math.round(e/this.imageRatio):this.imageRatio=e/this.imageHeight,this.imageWidth=e)}}},Y=J,Z=a("99d9"),$=a("ba0d"),K=a("b73d"),q=a("8654"),ee=Object(u["a"])(Y,p,v,!1,null,null,null),te=ee.exports;M()(ee,{VCard:x["a"],VCardText:Z["a"],VCardTitle:Z["b"],VCol:P["a"],VContainer:H["a"],VRow:O["a"],VSlider:$["a"],VSwitch:K["a"],VTextField:q["a"]});var ae={components:{Preview:m,Settings:te},data:function(){return{showDrawer:!0,imageData:null}},methods:{passImage:function(e){this.imageData=e}}},ne=ae,ie=a("7496"),re=a("40dc"),oe=a("5bc1"),se=a("8336"),ce=a("a75b"),le=a("2fa4"),ge=a("2a7f"),he=Object(u["a"])(ne,i,r,!1,null,null,null),fe=he.exports;M()(he,{VApp:ie["a"],VAppBar:re["a"],VAppBarNavIcon:oe["a"],VBtn:se["a"],VContainer:H["a"],VContent:ce["a"],VSpacer:le["a"],VToolbarTitle:ge["a"]});var ue=a("9483");Object(ue["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var de=a("f309");n["a"].use(de["a"]);var me=new de["a"]({});a("d5e8"),a("5363");n["a"].config.productionTip=!1,new n["a"]({vuetify:me,render:function(e){return e(fe)}}).$mount("#app")},"773a":function(e,t,a){"use strict";var n=a("968f"),i=a.n(n);i.a},"79ff":function(e,t,a){"use strict";var n=a("97f7"),i=a.n(n);i.a},"7ca7":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ5NkQzNDU0NkEyODExRUFCRjJDQkNDNkU4MUY4RjgwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ5NkQzNDU1NkEyODExRUFCRjJDQkNDNkU4MUY4RjgwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDk2RDM0NTI2QTI4MTFFQUJGMkNCQ0M2RTgxRjhGODAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDk2RDM0NTM2QTI4MTFFQUJGMkNCQ0M2RTgxRjhGODAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4x940CAAAAElBMVEV1B4fkAwMATf//jAD/7QAAgCZnD7bfAAADxklEQVR42uTRCWIUQRADQWHw/7+MMcbsMTPbd1cp9YMM6ceM/ZyxX1MmeP+7svTPAXifAZDp/xkAqf6fAJDr//EAyf4fDpDt/9EA6f4fDJDv/7EACf8fCpDx/5EAKf8fCJDz/3EASf8fBpD1/1EAaf8fBJD3/zEAif8fApD5/xEAqf8fAJD7/36A5P93A2T/vxcg/f+dAPn/7wMw+L8LwOH/HgCL/zsAPP5vBzD5vxnA5f9WAJv/GwF8/m8DMPq/CcDp/xYAq/8bALz+rwcw+78awO3/WgC7/ysB/P6vAzD8vwrA8f8aAMv/KwA8/y8HMP2/GMD1/1IA2/8LAXz/LwMw/r8IwPn/EgDr/wsAvP9/DWD+/0sA9/9fAdj//wLA//9rAMD/lwCE/68AEP9fADD+PweA/H8KQPn/DADz/wkA5/9jAND/hwCk/48AUP8fALD+fwaA/f8EQPv/EQD3/wMA7/97AOD/dwDE/28BkP/fADD//w8A/f8bgPr/PwDs/18A3P//AoD//wQg//8HAP3/BwD7/1QAU/rfxP7/LQ/ApP4JAKn+TwMwrX84QLL/kwBM7B8MkO7/FABT+4cCJPw/AcDk/oEAKf8PDzC9fxhA0v+DAyzoHwSQ9v/QAEv6hwAk/j8wwKL+AQCp/w8LsKy/GyD5/0EBFvZ3AqT/PyTA0v4uAIP/AwIs7u8AsPg/HMDy/mYAk/+DAWzobwSw+T8UwJb+JgCj/wMBbOpvALD6PwzAtv5qALP/gwBs7K8EsPs/BMDW/ioAw/8DAGzurwCw/H87wPb+YgDT/zcDBOgvBLD9fytAiP4iAOP/NwIE6S8AsP5/G0CY/pcA5v9vAgjU/wLA/v8tAKH6LwEA/28ACNZ/AYD4fzlAuP5TAMj/iwEC9p8AYP5fChCy/xAA9P9CgKD9BwCo/5cBhO1/AoD9vwggcP8DAO7/JQCh++8AgP8vAAjefwOA/H86QPj+bwDo/5MBEvR/AWD/nwqQov8TAPz/RIAk/R8A6P+nAaTpfxO8fw5Apn7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF71f9H7R+0XvF73/twADANbzY8uWefH6AAAAAElFTkSuQmCC"},"968f":function(e,t,a){},"97f7":function(e,t,a){},f48b:function(e,t,a){e.exports=a.p+"img/sample2.03f4b2f4.png"}});
//# sourceMappingURL=app.73d9598d.js.map